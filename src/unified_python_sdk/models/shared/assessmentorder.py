"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .assessmentaddress import AssessmentAddress, AssessmentAddressTypedDict
from .assessmentattribute import AssessmentAttribute, AssessmentAttributeTypedDict
from .assessmentparameterinput import (
    AssessmentParameterInput,
    AssessmentParameterInputTypedDict,
)
from .assessmentresponsedetail import (
    AssessmentResponseDetail,
    AssessmentResponseDetailTypedDict,
)
from datetime import datetime
from enum import Enum
from pydantic import field_serializer, model_serializer
from typing import Any, Dict, List, Optional
from typing_extensions import NotRequired, TypedDict
from unified_python_sdk import utils
from unified_python_sdk.models import shared
from unified_python_sdk.types import BaseModel, UNSET_SENTINEL


class ProfileGender(str, Enum, metaclass=utils.OpenEnumMeta):
    MALE = "MALE"
    FEMALE = "FEMALE"
    INTERSEX = "INTERSEX"
    TRANS = "TRANS"
    NON_BINARY = "NON_BINARY"


class ResponseStatus(str, Enum, metaclass=utils.OpenEnumMeta):
    OPEN = "OPEN"
    IN_PROGRESS = "IN_PROGRESS"
    COMPLETED = "COMPLETED"
    FAILED = "FAILED"
    REJECTED = "REJECTED"


class AssessmentOrderStatus(str, Enum, metaclass=utils.OpenEnumMeta):
    OPEN = "OPEN"
    IN_PROGRESS = "IN_PROGRESS"
    COMPLETED = "COMPLETED"
    FAILED = "FAILED"
    REJECTED = "REJECTED"


class AssessmentOrderTypedDict(TypedDict):
    connection_id: str
    workspace_id: str
    application_id: NotRequired[str]
    candidate_id: NotRequired[str]
    company_id: NotRequired[str]
    created_at: NotRequired[datetime]
    employee_id: NotRequired[str]
    id: NotRequired[str]
    job_id: NotRequired[str]
    package_id: NotRequired[str]
    parameters: NotRequired[List[AssessmentParameterInputTypedDict]]
    r"""Filled-in answers to the package's parameter questions"""
    profile_addresses: NotRequired[List[AssessmentAddressTypedDict]]
    profile_date_of_birth: NotRequired[str]
    profile_emails: NotRequired[List[str]]
    profile_first_name: NotRequired[str]
    profile_gender: NotRequired[ProfileGender]
    profile_ip_address: NotRequired[str]
    profile_last_name: NotRequired[str]
    profile_name: NotRequired[str]
    profile_national_identifier: NotRequired[str]
    profile_resume_url: NotRequired[str]
    profile_social_media_urls: NotRequired[List[str]]
    profile_telephones: NotRequired[List[str]]
    raw: NotRequired[Dict[str, Any]]
    reference: NotRequired[str]
    response_attributes: NotRequired[List[AssessmentAttributeTypedDict]]
    r"""Additional result attributes"""
    response_completed_at: NotRequired[datetime]
    response_details: NotRequired[List[AssessmentResponseDetailTypedDict]]
    response_download_urls: NotRequired[List[str]]
    r"""Report download URLs"""
    response_expires_at: NotRequired[datetime]
    response_issued_at: NotRequired[datetime]
    response_max_score: NotRequired[float]
    response_redirect_url: NotRequired[str]
    response_score: NotRequired[float]
    response_source: NotRequired[str]
    response_status: NotRequired[ResponseStatus]
    response_url: NotRequired[str]
    status: NotRequired[AssessmentOrderStatus]
    target_url: NotRequired[str]
    updated_at: NotRequired[datetime]
    webhook_id: NotRequired[str]


class AssessmentOrder(BaseModel):
    connection_id: str

    workspace_id: str

    application_id: Optional[str] = None

    candidate_id: Optional[str] = None

    company_id: Optional[str] = None

    created_at: Optional[datetime] = None

    employee_id: Optional[str] = None

    id: Optional[str] = None

    job_id: Optional[str] = None

    package_id: Optional[str] = None

    parameters: Optional[List[AssessmentParameterInput]] = None
    r"""Filled-in answers to the package's parameter questions"""

    profile_addresses: Optional[List[AssessmentAddress]] = None

    profile_date_of_birth: Optional[str] = None

    profile_emails: Optional[List[str]] = None

    profile_first_name: Optional[str] = None

    profile_gender: Optional[ProfileGender] = None

    profile_ip_address: Optional[str] = None

    profile_last_name: Optional[str] = None

    profile_name: Optional[str] = None

    profile_national_identifier: Optional[str] = None

    profile_resume_url: Optional[str] = None

    profile_social_media_urls: Optional[List[str]] = None

    profile_telephones: Optional[List[str]] = None

    raw: Optional[Dict[str, Any]] = None

    reference: Optional[str] = None

    response_attributes: Optional[List[AssessmentAttribute]] = None
    r"""Additional result attributes"""

    response_completed_at: Optional[datetime] = None

    response_details: Optional[List[AssessmentResponseDetail]] = None

    response_download_urls: Optional[List[str]] = None
    r"""Report download URLs"""

    response_expires_at: Optional[datetime] = None

    response_issued_at: Optional[datetime] = None

    response_max_score: Optional[float] = None

    response_redirect_url: Optional[str] = None

    response_score: Optional[float] = None

    response_source: Optional[str] = None

    response_status: Optional[ResponseStatus] = None

    response_url: Optional[str] = None

    status: Optional[AssessmentOrderStatus] = None

    target_url: Optional[str] = None

    updated_at: Optional[datetime] = None

    webhook_id: Optional[str] = None

    @field_serializer("profile_gender")
    def serialize_profile_gender(self, value):
        if isinstance(value, str):
            try:
                return shared.ProfileGender(value)
            except ValueError:
                return value
        return value

    @field_serializer("response_status")
    def serialize_response_status(self, value):
        if isinstance(value, str):
            try:
                return shared.ResponseStatus(value)
            except ValueError:
                return value
        return value

    @field_serializer("status")
    def serialize_status(self, value):
        if isinstance(value, str):
            try:
                return shared.AssessmentOrderStatus(value)
            except ValueError:
                return value
        return value

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(
            [
                "application_id",
                "candidate_id",
                "company_id",
                "created_at",
                "employee_id",
                "id",
                "job_id",
                "package_id",
                "parameters",
                "profile_addresses",
                "profile_date_of_birth",
                "profile_emails",
                "profile_first_name",
                "profile_gender",
                "profile_ip_address",
                "profile_last_name",
                "profile_name",
                "profile_national_identifier",
                "profile_resume_url",
                "profile_social_media_urls",
                "profile_telephones",
                "raw",
                "reference",
                "response_attributes",
                "response_completed_at",
                "response_details",
                "response_download_urls",
                "response_expires_at",
                "response_issued_at",
                "response_max_score",
                "response_redirect_url",
                "response_score",
                "response_source",
                "response_status",
                "response_url",
                "status",
                "target_url",
                "updated_at",
                "webhook_id",
            ]
        )
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m
